# 專案簡報與產品需求文件 (Project Brief & PRD) - 家庭咖啡店智能記帳系統

---

**文件版本 (Document Version):** `v1.5`
**最後更新 (Last Updated):** `2026-02-10`
**主要作者 (Lead Author):** `[產品經理]`
**審核者 (Reviewers):** `[技術負責人, UX 設計負責人]`
**狀態 (Status):** `已批准 (Approved)`

---

## 目錄 (Table of Contents)

1.  [專案總覽 (Project Overview)](#第-1-部分專案總覽-project-overview)
2.  [商業目標 (Business Objectives) - 「為何做?」](#第-2-部分商業目標-business-objectives---為何做)
3.  [使用者故事與允收標準 (User Stories & UAT) - 「做什麼?」](#第-3-部分使用者故事與允收標準-user-stories--uat---做什麼)
4.  [範圍與限制 (Scope & Constraints)](#第-4-部分範圍與限制-scope--constraints)
5.  [待辦問題與決策 (Open Questions & Decisions)](#第-5-部分待辦問題與決策-open-questions--decisions)

---

**目的**: 本文件旨在定義「家庭咖啡店智能記帳系統」的商業目標、使用者需求與技術邊界,為所有後續設計、開發與測試工作提供唯一事實來源 (Single Source of Truth)。

**核心價值主張**: 讓不懂會計的咖啡店主,用說的就能記帳,每天 3 分鐘掌握營收與成本。

---

## 第 1 部分:專案總覽 (Project Overview)

| 區塊             | 內容                                                                                                      |
| :--------------- | :-------------------------------------------------------------------------------------------------------- |
| **專案名稱**     | 家庭咖啡店智能記帳系統 (CoffeeBook AI)                                                                    |
| **專案代號**     | CB-2026-Q1                                                                                                |
| **狀態**         | 規劃中                                                                                                    |
| **目標發布日期** | MVP: 2026-04-15<br>完整版: 2026-06-30                                                                     |
| **核心團隊**     | PM: [姓名]<br>Lead Engineer: [姓名]<br>Backend Engineer: [姓名]<br>UX Designer: [姓名]<br>QA Lead: [姓名] |

---

## 第 2 部分:商業目標 (Business Objectives) - 「為何做?」

*在投入資源前,我們必須清晰地定義問題、目標使用者和商業價值,避免開發出無人需要的產品。*

| 區塊                              | 內容                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| :-------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **1. 背景與痛點**                 | **目標使用者**: 單一家庭咖啡店 (1-3 人經營,年營收 100-300 萬)<br><br>**現況問題**:<br>1. **記帳門檻高**: 店主無會計背景,目前用紙本帳本 + Excel 手動記帳,容易出錯且耗時<br>2. **資料分散**: 營業收入記在收銀機,進貨成本記在紙本,月底要花 2-3 小時手動整理<br>3. **無即時洞察**: 不知道哪個品項最賺錢、成本是否異常,只能月底才知道盈虧<br>4. **多人協作困難**: 店主與員工使用不同記帳方式,資料無法同步<br><br>**部署方式**: 本系統為**單店專屬部署**,所有資料儲存在店內設備或私有雲端,不與其他店家共享基礎設施                                                                                                                                                                                                                                                        |
| **2. 策略契合度**                 | **專案定位**: 單店專屬記帳解決方案<br><br>**本專案特性**:<br>- 為單一咖啡店量身打造的私有部署系統<br>- 所有資料完全掌控在店主手中,無資料外洩風險<br>- 可根據該店的營運特性客製化功能與報表<br>- 驗證「AI 賦能小微企業」的技術可行性,為未來複製至其他店家建立參考模型<br><br>**商業模式**: 一次性開發費用 + 年度維護費,而非訂閱制 SaaS                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **3. 成功指標 (Success Metrics)** | **主要指標 (使用成效)**:<br>- **每日記帳完成率**: 使用者每日記帳完成率 > 90% (定義為「當日至少記錄 1 筆收入 + 1 筆支出」)<br>- **記帳時間節省**: 相比紙本/Excel,每日記帳時間從 15-20 分鐘降至 5 分鐘以內<br>- **資料準確度**: 月底對帳時,系統記錄與實際現金/銀行帳戶誤差 < 1%<br><br>**次要指標**:<br>- **單筆記帳時間**: 平均 < 10 秒 (從開啟 App 到完成記錄)<br>- **語音辨識準確率**: > 90% (辨識後無需手動修改的比例)<br>- **功能使用率**: 月報表功能每月至少被主動查看 1 次<br>- **使用者滿意度**: 店主與員工對系統滿意度評分 > 4/5 分<br><br>**商業價值指標**:<br>- **成本洞察提升**: 店主能在 3 個月內識別出至少 2 個可優化的成本項目<br>- **決策效率**: 透過熱銷品項數據,調整菜單或採購策略<br>- **ROI**: 系統投入成本在 12 個月內透過效率提升與成本優化回收 |

---

## 第 3 部分:使用者故事與允收標準 (User Stories & UAT) - 「做什麼?」

*這是連接「商業需求」與「技術實現」的橋樑。每個使用者故事都應直接對應到下一個階段的 BDD 情境。*

### 核心史詩 1 (Core Epic): 智能記帳輸入

| 使用者故事 ID | 描述 (As a, I want to, so that)                                                                                               | 核心允收標準 (UAT)                                                                                                                                                                                                                  | 優先級    | 連結至 BDD 文件                                                |
| :------------ | :---------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- | :------------------------------------------------------------- |
| **US-101**    | **As a** 咖啡店員工,<br>**I want to** 使用語音輸入記錄支出 (例如「買咖啡豆 500 元」),<br>**so that** 我不用打字也能快速記帳。 | 1. 點擊「語音輸入」按鈕後,系統開始錄音<br>2. 說出「買咖啡豆 500 元」後,系統正確轉換為文字<br>3. 系統自動識別:金額=500、分類=進貨成本、品項=咖啡豆<br>4. 顯示確認畫面,使用者點擊「確認」後成功記錄                                   | P0 (必須) | [epic_smart_input.feature](epic_smart_input.feature#L15-L35)   |
| **US-102**    | **As a** 咖啡店員工,<br>**I want to** 使用快速按鈕記錄銷售 (例如點擊「美式咖啡」),<br>**so that** 在忙碌時段也能快速記錄。    | 1. 主畫面顯示常用品項快速按鈕 (由店主自訂)<br>2. 點擊「美式咖啡」按鈕<br>3. 系統自動記錄:收入 +1 杯、金額 = 預設售價<br>4. 可修改杯數 (例如改為 3 杯)<br>5. 可修改本次售價 (例如:假日加價、促銷折扣)                                | P0 (必須) | [epic_smart_input.feature](epic_smart_input.feature#L52-L99)   |
| **US-103**    | **As a** 咖啡店店主,<br>**I want to** 系統自動分類我的支出,<br>**so that** 我不用每次都手動選擇類別。                         | 1. 輸入「繳電費 800 元」<br>2. 系統自動分類為「固定支出」<br>3. 可填寫備註欄位 (例如:「房租」「電費」「咖啡豆」)<br>4. 如果分類錯誤,可手動修改為正確類別<br>5. 修正後的記錄以使用者選擇的類別儲存                                   | P0 (必須) | [epic_smart_input.feature](epic_smart_input.feature#L105-L140) |
| **US-104**    | **As a** 咖啡店員工,<br>**I want to** 在記帳時附加照片 (例如發票、收據),<br>**so that** 日後可追溯原始憑證。                  | 1. 記帳時可選擇「附加照片」<br>2. 拍照或從相簿選擇照片<br>3. 照片與該筆記錄綁定<br>4. 在記錄詳情頁可查看照片                                                                                                                        | P1 (重要) | [epic_smart_input.feature](epic_smart_input.feature#L146-L167) |
| **US-105**    | **As a** 咖啡店店主,<br>**I want to** 自訂快速按鈕的品項與價格,<br>**so that** 系統能符合我們店的實際菜單。                   | 1. 進入「設定」→「快速按鈕管理」<br>2. 可新增品項:輸入名稱、預設價格、選配上傳圖片<br>3. 可編輯現有品項 (修改名稱、價格、圖片)<br>4. 可刪除不需要的品項<br>5. 可調整按鈕顯示順序 (拖曳排序)<br>6. 支援無限數量按鈕 (主畫面滑動查看) | P0 (必須) | [epic_smart_input.feature](epic_smart_input.feature#L173-L213) |

---

### 核心史詩 2 (Core Epic): 每日概覽儀表板

| 使用者故事 ID | 描述 (As a, I want to, so that)                                                                                                                    | 核心允收標準 (UAT)                                                                                                                                                                                          | 優先級    | 連結至 BDD 文件                                                      |
| :------------ | :------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- | :------------------------------------------------------------------- |
| **US-201**    | **As a** 咖啡店店主,<br>**I want to** 在營業結束後快速看到今日營收總額、賣出杯數、與上週同天比較,<br>**so that** 我能在 3 分鐘內掌握今日營運狀況。 | 1. 開啟 App 首頁,顯示今日概覽儀表板<br>2. 清楚顯示:今日營收、今日賣出杯數 (各品項)、今日淨利<br>3. 顯示與上週同天的差異 (例如:今天是週三,顯示「比上週三多賺 200 元 ↑15%」)<br>4. 點擊任一數字可展開詳細明細 | P0 (必須) | [epic_daily_overview.feature](epic_daily_overview.feature#L18-L66)   |
| **US-202**    | **As a** 咖啡店店主,<br>**I want to** 看到過去 7 天或 30 天的營收趨勢折線圖,<br>**so that** 我能識別營收模式 (例如週末比平日高)。                  | 1. 在每日概覽下方顯示「營收趨勢」折線圖<br>2. 可切換顯示「7 日」或「30 日」<br>3. X 軸為日期,Y 軸為每日營收金額<br>4. 點擊圖表上的點可查看該日詳情                                                          | P1 (重要) | [epic_daily_overview.feature](epic_daily_overview.feature#L72-L107)  |
| **US-203**    | **As a** 咖啡店店主,<br>**I want to** 在儀表板上看到今日品項銷售排行,<br>**so that** 我知道哪些產品最受歡迎。                                      | 1. 顯示「今日熱銷 Top 3」<br>2. 列出品項名稱、賣出杯數、占比<br>3. 可點擊「查看全部」展開完整排行                                                                                                           | P1 (重要) | [epic_daily_overview.feature](epic_daily_overview.feature#L113-L136) |

---

### 核心史詩 3 (Core Epic): 月報表自動生成

| 使用者故事 ID | 描述 (As a, I want to, so that)                                                                                            | 核心允收標準 (UAT)                                                                                                                                                                                           | 優先級    | 連結至 BDD 文件                                                      |
| :------------ | :------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- | :------------------------------------------------------------------- |
| **US-301**    | **As a** 咖啡店店主,<br>**I want to** 每月 1 日自動產生上月的財務報表,<br>**so that** 我不用手動整理就能掌握月度營運狀況。 | 1. 每月 1 日早上 8:00,系統自動產生上月報表<br>2. 在 APP 首頁顯示「新月報已就緒」提示<br>3. 報表包含:本月總淨利、本月 vs 上月淨利比較、成本結構圓餅圖、熱銷品項排行<br>4. 可在手機 APP 與網頁版查看互動式報表 | P0 (必須) | [epic_monthly_report.feature](epic_monthly_report.feature#L16-L71)   |
| **US-302**    | **As a** 咖啡店店主,<br>**I want to** 在月報表中看到成本結構圓餅圖,<br>**so that** 我知道錢都花到哪裡去了。                | 1. 圓餅圖顯示各成本類別占比 (進貨、固定支出、設備維修等)<br>2. 點擊圖表區塊可展開該類別的明細<br>3. 可與上月比較,顯示變化百分比                                                                              | P0 (必須) | [epic_monthly_report.feature](epic_monthly_report.feature#L77-L101)  |
| **US-303**    | **As a** 咖啡店店主,<br>**I want to** 在月報表中看到熱銷品項排行 (整月統計),<br>**so that** 我能決定下月的採購策略。       | 1. 列出整月銷售排行 Top 10<br>2. 顯示:品項名稱、銷售杯數、總營收、占比<br>3. 可切換為「銷量排行」或「營收排行」                                                                                              | P0 (必須) | [epic_monthly_report.feature](epic_monthly_report.feature#L107-L130) |
| **US-304**    | **As a** 咖啡店店主,<br>**I want to** 手動查看過去任意月份的報表,<br>**so that** 我能回顧歷史營運數據。                    | 1. 在「報表」頁面可選擇月份 (下拉選單或日曆)<br>2. 點擊後顯示該月的完整報表<br>3. 可在手機 APP 與網頁版查看                                                                                                  | P1 (重要) | [epic_monthly_report.feature](epic_monthly_report.feature#L136-L162) |

---

### 核心史詩 4 (Core Epic): 使用者管理與基本權限

| 使用者故事 ID | 描述 (As a, I want to, so that)                                                                                   | 核心允收標準 (UAT)                                                                                                                                                 | 優先級    | 連結至 BDD 文件                                                        |
| :------------ | :---------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- | :--------------------------------------------------------------------- |
| **US-401**    | **As a** 咖啡店店主,<br>**I want to** 新增員工帳號,<br>**so that** 他們可以幫忙記錄日常交易。                     | 1. 店主在設定頁面點擊「新增成員」<br>2. 輸入員工姓名、Email 或手機號碼、設定初始密碼<br>3. 員工使用帳密登入後可開始記帳<br>4. 最多支援 10 個帳號 (1 店主 + 9 員工) | P0 (必須) | [epic_user_management.feature](epic_user_management.feature#L16-L60)   |
| **US-402**    | **As a** 咖啡店店主,<br>**I want to** 設定員工是否可查看報表,<br>**so that** 我能保護敏感財務資訊。               | 1. 店主可為每個員工設定權限:<br>   - 員工:只能記帳,不能查看報表<br>   - 管理者:可記帳 + 查看報表<br>2. 員工登入後,依權限顯示不同功能選單                           | P1 (重要) | [epic_user_management.feature](epic_user_management.feature#L66-L105)  |
| **US-403**    | **As a** 咖啡店店主,<br>**I want to** 在記帳時看到「這筆記錄由誰新增」,<br>**so that** 如果有問題可以找到負責人。 | 1. 每筆記錄顯示「記錄者」欄位<br>2. 店主可篩選「由特定人員記錄的交易」<br>3. 可查看每個人的記帳統計 (本月記錄筆數)                                                 | P2 (次要) | [epic_user_management.feature](epic_user_management.feature#L111-L142) |

---

## 第 4 部分:範圍與限制 (Scope & Constraints)

*明確定義邊界是專案成功的關鍵。這為 LLM 生成程式碼提供了最重要的「護欄」。*

### 功能性需求 (In Scope)

**MVP 階段 (2026-04-15)**:
- ✅ 智能記帳輸入 (語音 + 快速按鈕 + 手動)
- ✅ AI 自動分類 (進貨成本、固定支出、營收) + 備註欄位
- ✅ 自訂快速按鈕 (品項名稱、價格、圖片)
- ✅ 每日概覽儀表板 (今日營收、杯數統計、週同比)
- ✅ 基本使用者管理 (最多 10 個帳號)
- ✅ 手機 App (iOS/Android)

**完整版階段 (2026-06-30)**:
- ✅ 月報表自動生成 (手機 APP + 網頁版)
- ✅ 營收趨勢圖 (可切換 7 日/30 日)
- ✅ 成本結構圓餅圖
- ✅ 熱銷品項排行
- ✅ 照片附件功能
- ✅ 電腦網頁版
- ✅ 簡易權限管理 (員工/管理者角色)
- ✅ 遠端存取 (Tailscale VPN,選配)

---

### 非功能性需求 (NFRs)

| 類別         | 需求             | 驗收標準                                             |
| :----------- | :--------------- | :--------------------------------------------------- |
| **性能**     | 頁面載入時間     | 首頁載入 < 2 秒 (4G 網路環境)                        |
| **性能**     | 語音辨識回應時間 | 錄音結束後 < 3 秒內顯示文字結果                      |
| **性能**     | 報表生成時間     | 月報表生成 < 5 秒                                    |
| **可用性**   | 無障礙性         | 需符合 WCAG 2.1 AA 標準 (字體大小可調整、高對比模式) |
| **可用性**   | 離線支援         | 可離線記帳,網路恢復後自動同步                        |
| **可用性**   | 響應式設計       | 手機 APP 與網頁版介面自動適配不同螢幕尺寸            |
| **安全性**   | 密碼加密         | 所有密碼使用 bcrypt 加密儲存                         |
| **安全性**   | 資料傳輸         | 所有 API 請求使用 HTTPS + TLS 1.3                    |
| **安全性**   | 本地資料保護     | 支援資料庫加密 (選配,依店主需求)                     |
| **安全性**   | 備份加密         | 自動備份檔案採用 AES-256 加密                        |
| **可靠性**   | 資料備份         | 每日自動備份至本地 NAS 或 Google Drive,RPO < 24 小時 |
| **可靠性**   | 離線容錯         | 系統可在無網路狀態下正常記帳,網路恢復後自動同步      |
| **可靠性**   | 服務可用性       | 本地部署版本不受外部服務中斷影響 (除語音辨識功能)    |
| **可擴展性** | 資料量支援       | 系統需支援至少 5 年的交易記錄 (約 50,000 筆)         |
| **相容性**   | 裝置支援         | iOS 14+, Android 10+, Chrome/Safari/Edge 最新版      |

---

### 不做什麼 (Out of Scope)

**本版本明確不做**:
- ❌ 串接 POS 系統 (未來版本考慮)
- ❌ 第三方帳號登入 (Google/Facebook/Line)
- ❌ 發票 OCR 自動辨識 (完整版之後考慮)
- ❌ 預測未來營收/成本 (需累積 6 個月以上資料)
- ❌ 薪資計算與報稅功能
- ❌ 客戶關係管理 (CRM)
- ❌ 雲端 SaaS 多店平台 (本專案為單店專屬部署)

**延後至未來版本**:
- 🔄 庫存管理系統 (追蹤咖啡豆、牛奶等原物料庫存)
- 🔄 智能採購建議 (「咖啡豆庫存不足,建議進貨」)
- 🔄 會計師對接功能 (匯出符合會計軟體格式)
- 🔄 行動支付整合 (街口、LINE Pay 等)

---

### 假設與依賴

**假設 (Assumptions)**:
1. 使用者都具備基本的智慧型手機操作能力
2. 店內有可用的設備部署系統 (可選:樹莓派、NUC 小主機、或使用既有電腦)
3. 使用者營業場所有穩定的網路連線 (供語音辨識與雲端備份使用,非必須)
4. 語音辨識在咖啡店環境 (中等噪音) 下可達 85%+ 準確率
5. 使用者每日會花 5-10 分鐘記帳 (習慣養成)

**外部依賴 (External Dependencies)**:
1. **語音辨識服務**: Google Cloud Speech-to-Text API
   - SLA: 99.9%
   - 備援方案: 如 Google 服務中斷,系統仍可使用文字輸入功能
   - 離線方案: 未來可考慮整合本地語音模型 (Whisper)
2. **AI 分類服務**: Google Gemini API
   - 用途: 透過 Prompt Engineering 實現交易分類
   - 備援方案: 本地規則引擎 (基於關鍵字匹配)
3. **雲端備份**: Google Drive API
   - 用途: 自動備份資料庫與照片附件
   - 頻率: 每日凌晨 3:00 自動執行

**內部依賴 (Internal Dependencies)**:
1. Gemini Prompt 設計與測試 (預計 2026-03-01 完成初版)
2. UI/UX 設計規範 (預計 2026-02-20 交付)

---

## 第 5 部分:待辦問題與決策 (Open Questions & Decisions)

*記錄在討論過程中出現的、需要進一步澄清的問題或已做出的重要決策。*

### 待討論問題 (Open Questions)

| 問題 ID   | 描述                                            | 影響範圍     | 狀態     | 負責人           | 預計決策日期 |
| :-------- | :---------------------------------------------- | :----------- | :------- | :--------------- | :----------- |
| ~~Q-001~~ | ~~部署方式:本地硬體部署 vs 私有雲部署?~~        | ~~技術架構~~ | ✅ 已決策 | Lead Engineer    | 2026-02-10   |
| ~~Q-002~~ | ~~語音辨識是否支援台語/客家話?~~                | ~~功能範圍~~ | ✅ 已決策 | Backend Engineer | 2026-02-10   |
| ~~Q-003~~ | ~~資料備份:優先支援哪個雲端服務?~~              | ~~技術整合~~ | ✅ 已決策 | Lead Engineer    | 2026-02-10   |
| ~~Q-004~~ | ~~如果使用者忘記記帳,是否主動推送提醒?~~        | ~~產品體驗~~ | ✅ 已決策 | PM               | 2026-02-10   |
| ~~Q-005~~ | ~~月報表是否需要支援匯出 Excel 格式?~~          | ~~功能範圍~~ | ✅ 已決策 | PM               | 2026-02-10   |
| ~~Q-006~~ | ~~是否提供硬體設備 (樹莓派套件) 作為部署方案?~~ | ~~商業模式~~ | ✅ 已決策 | PM               | 2026-02-10   |

**備註**: 所有待討論問題已於 2026-02-10 決策完成,詳見「已決策事項」章節。

---

### 已決策事項 (Decisions Made)

| 決策 ID   | 描述                                          | 理由                                                                                                                                                | 決策日期   | 負責人            |
| :-------- | :-------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------- | :--------- | :---------------- |
| **D-001** | 採用 PostgreSQL 作為主要資料庫                | 1. 支援 JSONB 欄位 (彈性儲存語音辨識結果)<br>2. 成熟的 Full-text Search 功能<br>3. 可在樹莓派或 NUC 小主機上運行<br>4. 團隊已有豐富經驗             | 2026-02-05 | Lead Engineer     |
| **D-002** | MVP 階段不支援發票 OCR                        | 1. OCR 準確率需達 95% 以上才有實用價值<br>2. 開發成本高,且 MVP 階段使用者可手動輸入<br>3. 延後至完整版後評估                                        | 2026-02-08 | PM, Lead Engineer |
| **D-003** | 語音辨識使用 Google Cloud Speech-to-Text      | 1. 支援繁體中文與台灣腔調<br>2. 可自訂詞彙 (咖啡豆、拿鐵等專業術語)<br>3. 定價合理 (每月前 60 分鐘免費)<br>4. 未來可替換為本地 Whisper 模型         | 2026-02-06 | Backend Engineer  |
| **D-004** | 採用 React Native 開發跨平台 App              | 1. 單一程式碼庫支援 iOS/Android<br>2. 團隊已熟悉 React 生態系<br>3. 性能可滿足需求 (非遊戲類 App)                                                   | 2026-02-07 | Lead Engineer     |
| **D-005** | 月報表採用 APP 內互動式查看,不提供 PDF 下載   | 1. APP 內互動式圖表體驗更好 (可點擊、縮放)<br>2. 節省 PDF 產生與儲存成本<br>3. 使用者主要使用場景為手機查看,非列印                                  | 2026-02-09 | PM, UX Designer   |
| **D-006** | MVP 階段不開發平板專屬介面                    | 1. 平板市場占比低 (< 10%)<br>2. 手機 App 可在平板上執行 (RWD 設計)<br>3. 資源優先投入核心功能                                                       | 2026-02-10 | PM, UX Designer   |
| **D-007** | 系統採用「本地優先」架構 (Local-first)        | 1. 單店部署不需要多租戶隔離<br>2. 所有資料儲存在本地,店主完全掌控<br>3. 網路僅用於語音辨識與雲端備份<br>4. 提升資料隱私與系統穩定性                 | 2026-02-10 | Lead Engineer     |
| **D-008** | 採用 Gemini API + Prompt Engineering 實現分類 | 1. 不需自行訓練與維護 NLP 模型<br>2. Gemini 支援繁體中文與複雜語境理解<br>3. 可透過 Prompt 快速調整分類邏輯<br>4. 成本可控 (每月約 500-1000 次呼叫) | 2026-02-10 | Backend Engineer  |
| **D-009** | 本地硬體部署優先,私有雲為追加功能             | 1. 本地部署資料主權更清晰<br>2. 降低對網路依賴,提升穩定性<br>3. 私有雲需額外處理安全與備份,成本較高<br>4. 可在完整版後提供私有雲選項                | 2026-02-10 | Lead Engineer     |
| **D-010** | 不支援台語/客家話語音辨識                     | 1. Google Speech-to-Text 對台語/客家話支援有限<br>2. 目標使用者主要使用國語記帳<br>3. 可在未來版本評估本地方言模型                                  | 2026-02-10 | Backend Engineer  |
| **D-011** | 雲端備份統一使用 Google Drive                 | 1. Google Drive API 成熟穩定<br>2. 多數使用者已有 Google 帳號<br>3. 提供 15GB 免費空間,足夠小店使用<br>4. 支援版本控制與檔案分享                    | 2026-02-10 | Lead Engineer     |
| **D-012** | 移除推送通知功能                              | 1. 本地部署無需即時提醒 (使用者主動查看)<br>2. 減少對 Firebase FCM 的依賴<br>3. 簡化系統架構與維護成本                                              | 2026-02-10 | PM                |
| **D-013** | 月報表不支援 Excel 匯出                       | 1. APP 與網頁版已提供互動式查看<br>2. 使用者主要需求為「快速查看」而非「進一步分析」<br>3. 可在未來版本評估匯出需求                                 | 2026-02-10 | PM                |
| **D-014** | 不提供硬體設備套件                            | 1. 使用者可自行準備電腦或購買 NUC/樹莓派<br>2. 提供詳細的硬體建議清單與安裝指南<br>3. 降低專案初期的硬體採購與物流成本                              | 2026-02-10 | PM                |
| **D-015** | 使用者帳號上限提升至 10 個                    | 1. 部分咖啡店可能有較多兼職或輪班人員<br>2. 技術實現成本低 (僅需調整帳號上限參數)<br>3. 提供更大的使用彈性                                          | 2026-02-10 | PM, Lead Engineer |
| **D-016** | 遠端存取 (Tailscale VPN) 延後至完整版         | 1. MVP 聚焦核心記帳功能<br>2. 店主可在完整版上線前使用「店內查看」<br>3. 減少 MVP 開發時程壓力                                                      | 2026-02-10 | PM, Lead Engineer |

---

## 附錄：相關文件索引 (Related Documents)

| 文件                                                   | 說明                                     |
| :----------------------------------------------------- | :--------------------------------------- |
| [架構與設計文件](05_architecture_design.md)            | 系統架構圖、技術選型、數據模型、部署架構 |
| [BDD 情境文件](03_bdd_scenarios.md)                    | 行為驅動開發測試場景                     |
| [API 設計規範](06_api_design_specification.md)         | API 端點定義與 Schema                    |
| [模組規格與測試](07_module_specification_and_tests.md) | 模組層級規格與測試案例                   |
| [專案結構指南](08_project_structure_guide.md)          | 目錄結構與命名約定                       |

---

## 文件變更歷史 (Change Log)

| 版本 | 日期       | 變更描述                                                                                                                                                                                                                                                                                                                                                                                                                                      | 作者      |
| :--- | :--------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- |
| v1.0 | 2026-02-10 | 初版完成,定義核心需求與範圍                                                                                                                                                                                                                                                                                                                                                                                                                   | [PM 姓名] |
| v1.1 | 2026-02-10 | 改為單店專屬部署,移除多租戶功能                                                                                                                                                                                                                                                                                                                                                                                                               | [PM 姓名] |
| v1.2 | 2026-02-10 | 決策完成:<br>- 移除推送通知功能<br>- 帳號上限調整為 10 個<br>- 月報表改為 APP 內查看<br>- AI 分類改用 Gemini + Prompt<br>- 雲端備份統一使用 Google Drive<br>- 確認本地部署優先<br>- 不支援台語/客家話/Excel 匯出<br>- 不提供硬體設備                                                                                                                                                                                                          | [PM 姓名] |
| v1.3 | 2026-02-10 | 架構簡化:<br>- 移除 AI 分類訓練資料表 (改用 Gemini 即時分類)<br>- 合併 Report Service 至 Record Service (無需獨立 PDF 服務)<br>- 簡化為雙服務架構 (Auth + Record)                                                                                                                                                                                                                                                                             | [PM 姓名] |
| v1.4 | 2026-02-10 | 一致性修正:<br>- 統一雲端備份為 Google Drive (移除 Dropbox)<br>- US-103 移除「系統學習」機制,改為單純手動修正<br>- 團隊角色名稱統一為 Backend Engineer (不再稱為 AI/NLP Engineer)                                                                                                                                                                                                                                                             | [PM 姓名] |
| v1.5 | 2026-02-10 | 需求精煉 (與店主確認後):<br>- 新增 US-105: 店主可自訂快速按鈕 (品項、價格、圖片)<br>- US-102 加上「可修改本次售價」功能<br>- US-103 加上「備註欄位」(例如:咖啡豆、房租)<br>- US-201 改為「週同比」(vs 上週同天,排除週末效應)<br>- US-202 改為可切換「7 日/30 日」趨勢圖<br>- US-301 加上「本月 vs 上月總淨利比較」<br>- 資料表新增 note 欄位與 quick_buttons 表<br>- 庫存管理移至「延後功能」(未來可能需要)<br>- 遠端存取延後至完整版 (D-016) | [PM 姓名] |

---

**下一步行動 (Next Steps)**:
1. ✅ 完成 PRD 審核 (已批准)
2. ✅ 建立 BDD 測試場景文件 (已完成 - 2026-02-10)
3. ⏳ UI/UX 設計稿完成 (預計 2026-02-25)
4. ⏳ 技術架構設計文件 (預計 2026-03-01)
5. ⏳ Sprint 1 開發啟動 (預計 2026-03-05)
